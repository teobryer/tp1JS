<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
<title>server_get_models.php</title>
<link rel="stylesheet" type="text/css" href="highlight.css">
</head>
<body class="hl">
<pre class="hl"><span class="sym">&lt;</span>?php
<span class="com">/* =========================================================</span>
<span class="com"> * script appelé lors de la modification du sélecteur</span>
<span class="com"> * de marque de voiture</span>
<span class="com"> * on fournit la liste des modÃ¨les disponibles au format XML</span>
<span class="com"> * ========================================================= */</span>

<span class="slc">// récupération de la marque de voiture, celle-ci</span>
<span class="slc">// est passée en paramÃ¨tre GET</span>

<span class="kwb">$brand</span><span class="sym">=</span><span class="str">&quot;&quot;</span><span class="sym">;</span>
<span class="kwa">if</span> <span class="sym">(</span>isset<span class="sym">(</span><span class="kwb">$_GET</span><span class="sym">[</span><span class="str">'brand'</span><span class="sym">]))</span> <span class="kwb">$brand</span><span class="sym">=</span><span class="kwa">trim</span><span class="sym">(</span><span class="kwb">$_GET</span><span class="sym">[</span><span class="str">'brand'</span><span class="sym">]);</span>

<span class="slc">// en fonction de la marque on définit la liste des modÃ¨les</span>

<span class="kwa">if</span> <span class="sym">(</span><span class="kwb">$brand</span><span class="sym">==</span><span class="str">&quot;Audi&quot;</span><span class="sym">) {</span>
  <span class="kwb">$models</span><span class="sym">=</span><span class="str">&quot;A3,A4,A5,A6,A8&quot;</span><span class="sym">;</span>
 <span class="sym">}</span> <span class="kwa">else if</span> <span class="sym">(</span><span class="kwb">$brand</span><span class="sym">==</span><span class="str">&quot;BMW&quot;</span><span class="sym">) {</span>
  <span class="kwb">$models</span><span class="sym">=</span><span class="str">&quot;Serie 1,Serie 3,Serie 5,Serie 7&quot;</span><span class="sym">;</span>
 <span class="sym">}</span> <span class="kwa">else</span> <span class="sym">{</span>
  <span class="kwb">$models</span><span class="sym">=</span><span class="str">&quot;inconnu&quot;</span><span class="sym">;</span>
 <span class="sym">}</span>

<span class="kwb">$tab</span><span class="sym">=</span><span class="kwa">split</span><span class="sym">(</span><span class="str">&quot;,&quot;</span><span class="sym">,</span><span class="kwb">$models</span><span class="sym">);</span>

<span class="kwa">header</span><span class="sym">(</span><span class="str">'Content-Type: text/xml'</span><span class="sym">);</span>
<span class="kwa">echo</span> <span class="str">&quot;&lt;?xml version=</span><span class="esc">\&quot;</span><span class="str">1.0</span><span class="esc">\&quot;</span> <span class="str">?&gt;&quot;</span><span class="sym">;</span>
<span class="kwa">echo</span> <span class="str">&quot;&lt;models&gt;&quot;</span><span class="sym">;</span>
<span class="kwa">echo</span> <span class="str">&quot;&lt;model&gt;&amp;lt;choix&amp;gt;&lt;/model&gt;&quot;</span><span class="sym">;</span>
<span class="kwa">foreach</span><span class="sym">(</span><span class="kwb">$tab</span> as <span class="kwb">$model</span><span class="sym">) {</span>
  <span class="kwa">echo</span> <span class="str">&quot;&lt;model&gt;$model&lt;/model&gt;&quot;</span><span class="sym">;</span>
<span class="sym">}</span>
<span class="kwa">echo</span> <span class="str">&quot;&lt;/models&gt;&quot;</span><span class="sym">;</span>
?<span class="sym">&gt;</span>
</pre>
</body>
</html>
<!--HTML generated by highlight 2.4.8, http://www.andre-simon.de/-->
